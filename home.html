
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test</title>
</head>
<body>
    <input id="texto" type="button" value="Imprimir Teste" style="width: 50%; height: 50px;"><br>
    <input id="qrcode" type="button" value="Imprimir QRCode" style="width: 50%; height: 50px;"><br>
    <input id="status" type="button" value="Status Impressora" style="width: 50%; height: 50px;"><br>
    <input id="abre" type="button" value="Abre Conexao" style="width: 50%; height: 50px;"><br>
    <input id="fecha" type="button" value="Fecha Conexao" style="width: 50%; height: 50px;"><br>
    <input id="qrcode-solo" type="button" value="Imprimir QRCode Solo" style="width: 50%; height: 50px;"><br>
    <ul id="list">
        <li>resultados:</li>
    </ul>
    <script>
        document.querySelector('#texto').addEventListener('click', testeImpressaoTexto)
        document.querySelector('#qrcode').addEventListener('click', testeImpressaoQRCode)
        document.querySelector('#status').addEventListener('click', testeStatusImpressora)
        document.querySelector('#abre').addEventListener('click', testeAbreConexao)
        document.querySelector('#fecha').addEventListener('click', testeFechaConexao)
        document.querySelector('#qrcode-solo').addEventListener('click', testeImpressaoQRCodeSolo)

        function addLi(text) {
            let ul = document.getElementById("list");
            let li = document.createElement("li");
            li.appendChild(document.createTextNode(text));
            ul.appendChild(li);
        }

        function removeLis() {
            document.getElementById("list").innerHTML = "";
        }

        function testeAbreConexao() {
            removeLis()
            addLi('bora l치')
            let args = JSON.stringify({ tipo: 5, modelo: '', conexao: '', parametro: 0 })
            let result = Termica.AbreConexaoImpressora(args)
            addLi('abreconexaoimpressora')
            addLi(`result: ${result}`)
        }

        function testeFechaConexao() {
            removeLis()
            result = Termica.FechaConexaoImpressora(JSON.stringify({}))
            addLi('fecha')
            addLi(`result: ${result}`)
        }

        function testeImpressaoTexto() {
            removeLis()
            addLi('bora l치')
            let args = JSON.stringify({ tipo: 5, modelo: '', conexao: '', parametro: 0 })
            let result = Termica.AbreConexaoImpressora(args)
            addLi('abreconexaoimpressora')
            addLi(`result: ${result}`)
    
            args = JSON.stringify({ dados : 'Elgin Developers Community From Web App', 
                                    alinhamento: 0, 
                                    stilo: 0, 
                                    tamanho: 17 })
            result = Termica.ImpressaoTexto(args)
            addLi('impressao texto')
            addLi(`result: ${result}`)
    
            result = Termica.Corte(JSON.stringify({ avanco : 10 }))
            addLi('corte')
            addLi(`result: ${result}`)

            result = Termica.FechaConexaoImpressora(JSON.stringify({}))
            addLi('fecha')
            addLi(`result: ${result}`)
        }

        function testeImpressaoQRCode() {
            removeLis()
            addLi('bora l치')
            let args = JSON.stringify({ tipo: 5, modelo: '', conexao: '', parametro: 0 })
            let result = Termica.AbreConexaoImpressora(args)
            addLi('abreconexaoimpressora')
            addLi(`result: ${result}`)
    
            args = JSON.stringify({ dados: 'https://web-app-experience.herokuapp.com/', 
                                    tamanho: 4, 
                                    nivelCorrecao: 2 })
            result = Termica.ImpressaoQRCode(args)
            addLi('impressao texto')
            addLi(`result: ${result}`)
    
            result = Termica.Corte(JSON.stringify({ avanco : 10 }))
            addLi('corte')
            addLi(`result: ${result}`)

            result = Termica.FechaConexaoImpressora(JSON.stringify({}))
            addLi('fecha')
            addLi(`result: ${result}`)
        }

        function testeStatusImpressora() {
            removeLis()
            addLi('bora l치')
            let args = JSON.stringify({ tipo: 5, modelo: '', conexao: '', parametro: 0 })
            let result = Termica.AbreConexaoImpressora(args)
            addLi('abreconexaoimpressora')
            addLi(`result: ${result}`)
    
            args = JSON.stringify({ param: 3 })
            result = Termica.StatusImpressora(args)
            addLi('statusimpressora')
            addLi(`result: ${result}`)

            result = Termica.FechaConexaoImpressora(JSON.stringify({}))
            addLi('fecha')
            addLi(`result: ${result}`)
        }

        function testeImpressaoQRCodeSolo() {
            removeLis()
            args = JSON.stringify({ dados: 'https://web-app-experience.herokuapp.com/', 
                                    tamanho: 4, 
                                    nivelCorrecao: 2 })
            result = Termica.ImpressaoQRCode(args)
            addLi('impressao texto')
            addLi(`result: ${result}`)
        }

    </script>
</body>
</html>